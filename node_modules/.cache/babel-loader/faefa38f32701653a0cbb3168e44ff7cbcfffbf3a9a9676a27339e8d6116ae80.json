{"ast":null,"code":"import _slicedToArray from\"/Users/emcmorro/Desktop/2023/October/card-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/Users/emcmorro/Desktop/2023/October/card-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2;import React,{useEffect,useState}from\"react\";import axios from\"axios\";import{useParams}from\"react-router-dom\";import{Button}from\"../Button\";import{Card}from\"../Card\";import styled from\"styled-components\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Container=styled.span(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: space-between;\\n  flex-wrap: wrap;\\n  background-color: \",\";\\n  padding: \",\";\\n\"])),function(_ref){var theme=_ref.theme;return theme.background;},function(_ref2){var theme=_ref2.theme;return theme.spacingL;});var Title=styled.h2(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: flex;\\n  display: inline-flex;\\n  justify-content: space-between;\\n  background-color: \",\";\\n  color: \",\";\\n  font-weight: \",\";\\n  margin: 0 \",\" 0 0;\\n\"])),function(props){return props.theme.white;},function(props){return props.theme.textGrey;},function(props){return props.theme.fontWeightBold;},function(_ref3){var theme=_ref3.theme;return theme.spacingL;});export var CardItem=function CardItem(){var _useParams=useParams(),productId=_useParams.productId;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),product=_useState2[0],setProduct=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];useEffect(function(){axios.get(\"https://moonpig.github.io/tech-test-frontend/search.json\").then(function(response){var foundProduct=response.data.Products.find(function(p){return p.ProductId===Number(productId);});if(foundProduct){setProduct(foundProduct);}else{console.error(\"Product not found:\",productId);}setLoading(false);}).catch(function(error){console.error(\"Error fetching data:\",error);setLoading(false);});},[productId]);if(loading)return/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"});if(!product)return/*#__PURE__*/_jsx(\"p\",{children:\"Product not found.\"});return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-md-6 col-lg-4\",children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Card.Image,{src:product.ProductImage.Link.Href,alt:\"Image of \".concat(product.Title)})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-md-6 col-lg-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column justify-content-between pb-4\",children:[/*#__PURE__*/_jsx(Title,{children:product.Title}),/*#__PURE__*/_jsx(\"div\",{className:\"pt-4\",children:/*#__PURE__*/_jsx(Button,{onPress:function onPress(){return alert(\"Success!\");},children:\"Buy me!\"})})]})})]})})});};export default CardItem;","map":{"version":3,"names":["React","useEffect","useState","axios","useParams","Button","Card","styled","jsx","_jsx","jsxs","_jsxs","Container","span","_templateObject","_taggedTemplateLiteral","_ref","theme","background","_ref2","spacingL","Title","h2","_templateObject2","props","white","textGrey","fontWeightBold","_ref3","CardItem","_useParams","productId","_useState","_useState2","_slicedToArray","product","setProduct","_useState3","_useState4","loading","setLoading","get","then","response","foundProduct","data","Products","find","p","ProductId","Number","console","error","catch","children","className","Image","src","ProductImage","Link","Href","alt","concat","onPress","alert"],"sources":["/Users/emcmorro/Desktop/2023/October/card-app/src/components/CardItem/CardItem.component.tsx"],"sourcesContent":["import React, { FC, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useParams } from \"react-router-dom\";\nimport { Button } from \"../Button\";\nimport { Card } from \"../Card\";\nimport { Product } from \"../types\";\nimport styled from \"styled-components\";\n\nconst Container = styled.span`\n  display: flex;\n  justify-content: space-between;\n  flex-wrap: wrap;\n  background-color: ${({ theme }) => theme.background};\n  padding: ${({ theme }) => theme.spacingL};\n`;\n\nconst Title = styled.h2`\n  display: flex;\n  display: inline-flex;\n  justify-content: space-between;\n  background-color: ${(props) => props.theme.white};\n  color: ${(props) => props.theme.textGrey};\n  font-weight: ${(props) => props.theme.fontWeightBold};\n  margin: 0 ${({ theme }) => theme.spacingL} 0 0;\n`;\n\nexport const CardItem: FC = () => {\n  const { productId } = useParams();\n  const [product, setProduct] = useState<Product | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    axios\n      .get(`https://moonpig.github.io/tech-test-frontend/search.json`)\n      .then((response) => {\n        const foundProduct = response.data.Products.find(\n          (p) => p.ProductId === Number(productId)\n        );\n\n        if (foundProduct) {\n          setProduct(foundProduct);\n        } else {\n          console.error(\"Product not found:\", productId);\n        }\n        setLoading(false);\n      })\n      .catch((error) => {\n        console.error(\"Error fetching data:\", error);\n        setLoading(false);\n      });\n  }, [productId]);\n\n  if (loading) return <p>Loading...</p>;\n  if (!product) return <p>Product not found.</p>;\n\n  return (\n    <Container>\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-12 col-md-6 col-lg-4\">\n            <Card>\n              <Card.Image\n                src={product.ProductImage.Link.Href}\n                alt={`Image of ${product.Title}`}\n              />\n            </Card>\n          </div>\n          <div className=\"col-12 col-md-6 col-lg-6\">\n            <div className=\"d-flex flex-column justify-content-between pb-4\">\n              <Title>{product.Title}</Title>\n              <div className=\"pt-4\">\n                <Button onPress={() => alert(\"Success!\")}>Buy me!</Button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </Container>\n  );\n};\n\nexport default CardItem;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}